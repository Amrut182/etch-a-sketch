<html>
    <header>
        <link href="style.css" rel="stylesheet" type="text/css" media="all"/>
    </header>

    <head>
        <title>Etch a Sketch</title>
        <meta charset="UTF-8"/>
    </head>
    <body>
        <h1>Etch a Sketch</h1>
        <button id="btn1">Clear</button>
        <div id="container"></div>
        
        <script>
            const container = document.querySelector('#container');
            const btn1 = document.querySelector('#btn1');
            let choice;
            let clickCounter = 0;

            function createGrid(item) {
                for(let i = 0; i < item; i++) {
                    for(let j = 0; j < item; j++) {
                        let div = document.createElement('div');
                        div.id = 'Grid';

                        if(item < 22) {
                            div.style.height = Math.floor(400/item) - 2 ;
                            div.style.width = Math.floor(400/item) - 2;
                        }
                        else {
                            break;
                        }

                        container.appendChild(div);

                        div.onmouseover = function() {
                            div.style.backgroundColor = 'grey';
                        }
                    }
                }
            }

            function clearGrid(item) {
                for(let i = 0; i < item; i++) {
                    for(let j = 0; j < item; j++) {
                        let element = document.getElementById('Grid');
                        element.parentNode.removeChild(element);
                    }
                }
            }

            function createInitialGrid() {
                createGrid(16);
            }

            function clearInitialGrid() {
                clearGrid(16);
            }

            function createNextGrid() {
                choice = prompt("Enter the size of grid");
                createGrid(choice);
            }

            function clear() {
                if(clickCounter == 0) {
                    clearInitialGrid();
                    clickCounter++;
                }
                else {
                    clearGrid(choice); //previous choice needed to clear the previous grid
                }
            }

            btn1.addEventListener('click', () => {
                clear(); //Clears grid on screen
                createNextGrid(); //Creates a new grid based on user input
            });

            createInitialGrid(); //Creates 16X16 grid 

        </script>
    </body>
</html>